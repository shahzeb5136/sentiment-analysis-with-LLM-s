import google.generativeai as genai
import os

# --- PASTE YOUR GEMINI KEY HERE ---
GEMINI_API_KEY = "AIzaSyA0eJGUVjl9lV2XNwzz3gk87LYns8vU2-w"
# ----------------------------------

# Check if key is set
if GEMINI_API_KEY == "YOUR_GEMINI_API_KEY_HERE":
    print("ERROR: Please paste your GEMINI_API_KEY into the script.")
else:
    print("Attempting to connect to Google AI...")
    try:
        genai.configure(api_key=GEMINI_API_KEY)

        print("Fetching available models that support 'generateContent'...\n")

        found_models = False
        # This loop goes through all available models
        for m in genai.list_models():
            # We are looking for models that support the 'generateContent' method
            if 'generateContent' in m.supported_generation_methods:
                print(f"--- Found Usable Model ---")
                print(f"  Model name: {m.name}")
                print(f"  Description: {m.description}")
                print(f"  Supported methods: {m.supported_generation_methods}\n")
                found_models = True

        if not found_models:
            print("--- NO USABLE MODELS FOUND ---")
            print("No models supporting 'generateContent' were found for your API key.")
            print("This might be an issue with your API key permissions or the library version.")

        print("\nSuccessfully fetched models.")
        print("If you see a model above (like 'models/gemini-pro'), use that name in your analysis script.")
        print("If you see 'NO USABLE MODELS FOUND', try the 'Alternative Fix' in my response.")


    except Exception as e:
        print(f"\n--- AN ERROR OCCURRED ---")
        print(f"Error: {e}")
        print("\nPlease double-check your GEMINI_API_KEY and your internet connection.")